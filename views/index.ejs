<%- include('partials/header') %>

<!-- HERO SECTION (UNCHANGED) -->
<section id="hero-section" class="min-h-[85vh] flex flex-col items-center justify-center text-center relative overflow-hidden perspective-1000 bg-black">
    <canvas id="cosmic-canvas" class="absolute inset-0 w-full h-full z-0 pointer-events-none"></canvas>
    <div class="max-w-6xl mx-auto relative z-10 pointer-events-auto px-4">
        <div class="mb-12 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
            <div class="flex-shrink-0">
                <img src="/images/logo.png" alt="Logo" class="w-32 md:w-48 h-auto object-contain drop-shadow-[0_0_20px_rgba(212,175,55,0.4)] hover:scale-105 transition-transform duration-500">
            </div>
            <div class="text-center md:text-left">
                <h1 class="text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-b from-[#F4C430] to-[#AA8C2C] drop-shadow-2xl mb-2 leading-tight">
                    THINK FREELY
                </h1>
                <h2 class="text-xl md:text-3xl text-white font-light tracking-[0.5em]">AS ONE AND THE SAME</h2>
            </div>
        </div>
        <div class="flex flex-col items-center">
            <p class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-12 leading-relaxed drop-shadow-md bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-white/5">
                Wordplay into the embrace of richer mindhood and such things as that 
            </p>
            <div class="flex flex-col sm:flex-row gap-6 justify-center">
                <a href="/music" class="btn-gold px-8 py-4 text-lg rounded-sm shadow-lg inline-block transition-transform hover:-translate-y-1">
                    Stream Now
                </a>
                <a href="/projects" class="btn-outline px-8 py-4 text-lg rounded-sm inline-block transition-transform hover:-translate-y-1">
                    Software
                </a>
            </div>
        </div>
    </div>
    <div class="absolute bottom-8 animate-pulse text-[#D4AF37] z-10">
        <i class="fas fa-chevron-down text-3xl"></i>
    </div>
</section>

<!-- EXTENDED SECTIONS: PROJECT SHOWCASE -->

<!-- 1. MUSIC: The Final Scene -->
<section class="py-24 border-t border-yellow-900/30 relative">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center px-6">
        
        <!-- Image Content -->
        <div class="order-2 md:order-1 relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-[#D4AF37] to-[#AA8C2C] rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
            <a href="/song/Cem7RZsb7Rw" class="relative block aspect-video rounded-lg overflow-hidden border border-[#D4AF37]/30 shadow-2xl">
                <!-- Using Fallback Image as requested -->
                <img src="/images/music.png" alt="The Final Scene" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700">
                <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors duration-500 flex items-center justify-center">
                    <div class="w-16 h-16 rounded-full bg-[#D4AF37]/90 flex items-center justify-center backdrop-blur-sm shadow-lg group-hover:scale-110 transition-transform">
                        <i class="fas fa-play text-black text-xl ml-1"></i>
                    </div>
                </div>
            </a>
        </div>

        <!-- Text Content -->
        <div class="order-1 md:order-2 space-y-6">
            <h2 class="text-5xl text-gold brand-font">LATEST TRANSMISSION</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase font-bold">The Final Scene</h3>
            <p class="text-gray-300 leading-loose text-lg">
                A sonic exploration of end-times and new beginnings. "The Final Scene" combines orchestral density with raw lyrical introspection, setting the tone for the current era of the Collective.
            </p>
            <div class="flex flex-col gap-3 pt-2">
                <div class="flex items-center text-gray-400">
                    <i class="fab fa-youtube text-[#D4AF37] w-8"></i>
                    <span>Visualizer Available</span>
                </div>
                <div class="flex items-center text-gray-400">
                    <i class="fas fa-file-audio text-[#D4AF37] w-8"></i>
                    <span>High Fidelity Audio</span>
                </div>
            </div>
            <a href="/music" class="inline-block mt-6 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors uppercase tracking-wider text-sm font-bold">
                Access Full Archives &rarr;
            </a>
        </div>
    </div>
</section>

<!-- 2. SOFTWARE: Color Contagion -->
<section class="py-24 border-t border-yellow-900/30 bg-white/5">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center px-6">
        
        <!-- Text Content -->
        <div class="space-y-6">
            <h2 class="text-5xl text-gold brand-font">TACTICAL SIMULATIONS</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase font-bold">Color Contagion</h3>
            <p class="text-gray-300 leading-loose text-lg">
                Our browser-based engine models the spread of influence through visual data. <strong>Color Contagion</strong> is not just a game; it is a study in dominance, territory, and algorithmic viral mechanics.
            </p>
            <p class="text-gray-400 italic border-l-2 border-[#20B2AA] pl-4">
                "Code is the language of the new reality."
            </p>
            <a href="/projects" class="inline-block mt-6 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors uppercase tracking-wider text-sm font-bold">
                Run Simulation &rarr;
            </a>
        </div>

        <!-- Image Content -->
        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-[#20B2AA] to-[#008080] rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
            <a href="/projects" class="relative block aspect-video rounded-lg overflow-hidden border border-[#20B2AA]/30 shadow-2xl bg-gray-900">
                <!-- Using Fallback Image from Projects Page -->
                <img src="/images/FALLBACK_IMG.png" alt="Color Contagion Gameplay" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100">
                
                <!-- Overlay Interface Elements -->
                <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent">
                    <div class="flex justify-between items-end">
                        <span class="text-[#20B2AA] font-mono text-xs">STATUS: ONLINE</span>
                        <i class="fas fa-gamepad text-2xl text-white"></i>
                    </div>
                </div>
            </a>
        </div>

    </div>
</section>

<!-- 3. MERCH: Standard Uniform -->
<section class="py-24 border-t border-yellow-900/30">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center px-6">
        
        <!-- Image Content -->
        <div class="order-2 md:order-1 relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-[#D4AF37] to-white rounded-lg blur opacity-10 group-hover:opacity-30 transition duration-1000"></div>
            <a href="/merch" class="relative block aspect-square md:aspect-[4/3] rounded-lg overflow-hidden border border-gray-800 bg-[#111]">
                <!-- Updated image to preview.jpg -->
                <img src="/images/preview.jpg" alt="Standard Uniform" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700">
                
                <!-- Price Tag Overlay -->
                <div class="absolute top-4 right-4 bg-black/80 backdrop-blur text-[#D4AF37] px-4 py-2 rounded border border-[#D4AF37] font-bold">
                    $45.00
                </div>
            </a>
        </div>

        <!-- Text Content -->
        <div class="order-1 md:order-2 space-y-6">
            <h2 class="text-5xl text-gold brand-font">PHYSICAL ARTIFACTS</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase font-bold">Standard Uniform</h3>
            <p class="text-gray-300 leading-loose text-lg">
                Tangible proof of allegiance. High-quality poly-blend fabric engineered for comfort and signal broadcasting. Available in all standard sizes.
            </p>
            
            <div class="grid grid-cols-2 gap-4 my-4">
                <div class="p-4 rounded border border-gray-800 bg-gray-900/50 text-center hover:border-[#D4AF37] transition-colors">
                    <i class="fas fa-tshirt text-3xl text-gray-500 mb-2"></i>
                    <h4 class="text-sm font-bold text-gray-300">APPAREL</h4>
                </div>
                <div class="p-4 rounded border border-gray-800 bg-gray-900/50 text-center hover:border-[#D4AF37] transition-colors">
                    <i class="fas fa-compact-disc text-3xl text-gray-500 mb-2"></i>
                    <h4 class="text-sm font-bold text-gray-300">MEDIA</h4>
                </div>
            </div>

            <a href="/merch" class="inline-block mt-2 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors uppercase tracking-wider text-sm font-bold">
                Access Supply Drop &rarr;
            </a>
        </div>
    </div>
</section>

<!-- Cosmic Script (Unchanged) -->
<script>
    // ... [Previous Cosmic Canvas Script Content] ...
    (function() {
        const canvas = document.getElementById('cosmic-canvas');
        const ctx = canvas.getContext('2d');
        // ... (Keep existing script logic)
        let width, height;
        let stars = [];
        let planets = [];
        let shootingStar = null;
        let mouse = { x: -9999, y: -9999 };

        window.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        });

        window.addEventListener('resize', resize);

        function resize() {
            if(canvas.parentElement) {
                width = canvas.width = canvas.parentElement.offsetWidth;
                height = canvas.height = canvas.parentElement.offsetHeight;
                initStars(); 
            }
        }

        class Star {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 1.5 + 0.2;
                this.baseAlpha = Math.random() * 0.7 + 0.2;
                this.currentAlpha = this.baseAlpha;
                this.twinkleSpeed = Math.random() * 1.5 + 0.5; 
                this.twinkleOffset = Math.random() * Math.PI * 2;
                this.isHovered = false;
                this.hoverColor = null;
                const rand = Math.random();
                if (rand > 0.90) this.color = '#D4AF37';       
                else if (rand > 0.80) this.color = '#F4C430';  
                else if (rand > 0.75) this.color = '#20B2AA';  
                else if (rand > 0.70) this.color = '#E0F7FA';  
                else if (rand > 0.65) this.color = '#FFEBEE';  
                else this.color = '#FFFFFF';                   
            }
            update(time) {
                const dx = this.x - mouse.x;
                const dy = this.y - mouse.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                const interactionRange = 85; 
                let speed = this.twinkleSpeed;
                let alphaBoost = 0;
                if (dist < interactionRange) {
                    this.isHovered = true;
                    const intensity = 1 - (dist / interactionRange);
                    speed += intensity * 20;
                    alphaBoost = intensity * 0.8;
                    if (!this.hoverColor) {
                        const shiftRand = Math.random();
                        if (shiftRand > 0.66) this.hoverColor = '#4D94FF';      
                        else if (shiftRand > 0.33) this.hoverColor = '#FF4D4D'; 
                        else this.hoverColor = '#FFFF00';                       
                    }
                } else {
                    this.isHovered = false;
                    this.hoverColor = null;
                }
                let oscillation = Math.sin(time * speed + this.twinkleOffset);
                this.currentAlpha = this.baseAlpha + (oscillation * 0.15) + alphaBoost;
                if (this.currentAlpha < 0) this.currentAlpha = 0;
                if (this.currentAlpha > 1) this.currentAlpha = 1;
            }
            draw() {
                const activeColor = (this.isHovered && this.hoverColor) ? this.hoverColor : this.color;
                ctx.globalAlpha = this.currentAlpha;
                ctx.fillStyle = activeColor;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                if (this.isHovered) {
                    ctx.strokeStyle = activeColor;
                    ctx.lineWidth = 0.5; 
                    const rayLength = this.size * 8 + (this.currentAlpha * 5); 
                    ctx.beginPath();
                    ctx.moveTo(this.x - rayLength, this.y);
                    ctx.lineTo(this.x + rayLength, this.y);
                    ctx.moveTo(this.x, this.y - rayLength);
                    ctx.lineTo(this.x, this.y + rayLength);
                    ctx.stroke();
                }
                ctx.globalAlpha = 1.0;
            }
        }

        class Planet {
            constructor() {
                this.radius = Math.random() * 40 + 10; 
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.color = Math.random() > 0.5 ? '#0c0c0c' : '#080808'; 
                this.speedX = (Math.random() - 0.5) * 0.05; 
                this.speedY = (Math.random() - 0.5) * 0.05;
                this.rimColor = Math.random() > 0.5 ? 'rgba(212, 175, 55, 0.05)' : 'rgba(32, 178, 170, 0.05)';
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > width + this.radius) this.x = -this.radius;
                if (this.x < -this.radius) this.x = width + this.radius;
                if (this.y > height + this.radius) this.y = -this.radius;
                if (this.y < -this.radius) this.y = height + this.radius;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.strokeStyle = this.rimColor;
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }

        class ShootingStar {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height * 0.5;
                this.len = Math.random() * 100 + 50; 
                this.speed = Math.random() * 15 + 10; 
                this.size = Math.random() * 1.5 + 0.5;
                this.angle = Math.PI / 4 + (Math.random() * 0.2); 
                this.waitTime = new Date().getTime() + Math.random() * 3000 + 1000;
                this.active = false;
                this.headColor = Math.random() > 0.5 ? '#FFFFFF' : '#D4AF37';
            }
            update() {
                if (this.active) {
                    this.x += this.speed * Math.cos(this.angle);
                    this.y += this.speed * Math.sin(this.angle);
                    if (this.x > width + this.len || this.y > height + this.len) {
                        this.active = false;
                        this.waitTime = new Date().getTime() + Math.random() * 5000;
                    }
                } else {
                    if (new Date().getTime() > this.waitTime) {
                        this.active = true;
                        this.x = Math.random() * width * 0.8; 
                        this.y = -50; 
                    }
                }
            }
            draw() {
                if (!this.active) return;
                const tailX = this.x - this.len * Math.cos(this.angle);
                const tailY = this.y - this.len * Math.sin(this.angle);
                const gradient = ctx.createLinearGradient(this.x, this.y, tailX, tailY);
                gradient.addColorStop(0, "rgba(255, 255, 255, 1)");
                gradient.addColorStop(0.1, this.headColor === '#D4AF37' ? "rgba(212, 175, 55, 0.8)" : "rgba(200, 240, 255, 0.8)");
                gradient.addColorStop(1, "rgba(0, 0, 0, 0)");
                ctx.lineWidth = this.size;
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(tailX, tailY);
                ctx.strokeStyle = gradient;
                ctx.lineCap = 'round';
                ctx.stroke();
            }
        }

        function initStars() {
            stars = [];
            const starCount = Math.floor((width * height) / 800); 
            for (let i = 0; i < starCount; i++) stars.push(new Star());
        }

        function init() {
            resize();
            planets = [];
            for(let i=0; i<4; i++) planets.push(new Planet());
            shootingStar = new ShootingStar();
            animate();
        }

        function animate() {
            const time = Date.now() * 0.001;
            ctx.clearRect(0, 0, width, height);
            planets.forEach(p => { p.update(); p.draw(); });
            stars.forEach(star => { star.update(time); star.draw(); });
            if (shootingStar) { shootingStar.update(); shootingStar.draw(); }
            requestAnimationFrame(animate);
        }

        window.addEventListener('load', init);
        setTimeout(init, 100);
    })();
</script>

<%- include('partials/footer') %>