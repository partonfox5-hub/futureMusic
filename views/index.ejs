<%- include('partials/header') %>

<!-- HERO SECTION -->
<section id="hero-section" class="min-h-[85vh] flex flex-col items-center justify-center text-center relative overflow-hidden perspective-1000 bg-black">
    
    <!-- COSMIC CANVAS BACKGROUND -->
    <canvas id="cosmic-canvas" class="absolute inset-0 w-full h-full z-0 pointer-events-none"></canvas>

    <!-- MAIN CONTENT CONTAINER -->
    <div class="max-w-6xl mx-auto relative z-10 pointer-events-auto px-4">
        
        <!-- TITLE BLOCK: Logo + Text -->
        <div class="mb-12 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
            
            <!-- LOGO (Left of text) -->
            <div class="flex-shrink-0">
                <img src="/images/logo.png" alt="Logo" class="w-32 md:w-48 h-auto object-contain drop-shadow-[0_0_20px_rgba(212,175,55,0.4)] hover:scale-105 transition-transform duration-500">
            </div>

            <!-- TEXT (Right of logo) -->
            <div class="text-center md:text-left">
                <h1 class="text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-b from-[#F4C430] to-[#AA8C2C] drop-shadow-2xl mb-2 leading-tight">
                    THINK FREELY
                </h1>
                <h2 class="text-xl md:text-3xl text-white font-light tracking-[0.5em]">AS ONE AND THE SAME</h2>
            </div>
        </div>
        
        <!-- SUBTEXT & BUTTONS -->
        <div class="flex flex-col items-center">
            <p class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-12 leading-relaxed drop-shadow-md bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-white/5">
                Wordplay into the embrace of richer mindhood and such things as that 
            </p>

            <div class="flex flex-col sm:flex-row gap-6 justify-center">
                <a href="/music" class="btn-gold px-8 py-4 text-lg rounded-sm shadow-lg inline-block transition-transform hover:-translate-y-1">
                    Stream Now
                </a>
                <a href="/projects" class="btn-outline px-8 py-4 text-lg rounded-sm inline-block transition-transform hover:-translate-y-1">
                    Software
                </a>
            </div>
        </div>
    </div>
    
    <div class="absolute bottom-8 animate-pulse text-[#D4AF37] z-10">
        <i class="fas fa-chevron-down text-3xl"></i>
    </div>
</section>

<!-- EXTENDED SECTIONS -->

<!-- 1. MUSIC -->
<section class="py-20 border-t border-yellow-900/30">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center px-4">
        <div class="order-2 md:order-1">
            <div class="relative w-full aspect-video bg-gray-900 rounded-lg border border-[#D4AF37]/50 overflow-hidden flex items-center justify-center group">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"></div>
                <i class="fas fa-music text-6xl text-[#D4AF37] group-hover:scale-125 transition-transform duration-500"></i>
            </div>
        </div>
        <div class="order-1 md:order-2 space-y-6">
            <h2 class="text-4xl text-gold">MUSIC</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase">Auditory Commands</h3>
            <p class="text-gray-300 leading-loose text-lg">
                Structured frequencies designed to reorder the subconscious. Drawing from the raw energy of psychedelic rock and the disciplined structure of orchestral composition, we create a soundscape where chaos and control coexist.
            </p>
            <ul class="space-y-2 text-gray-400">
                <li><i class="fas fa-check text-[#20B2AA] mr-2"></i> The Mashup Trilogy</li>
                <li><i class="fas fa-check text-[#20B2AA] mr-2"></i> Symphonic Arrangements</li>
                <li><i class="fas fa-check text-[#20B2AA] mr-2"></i> Lyricism as Doctrine</li>
            </ul>
            <a href="/music" class="inline-block mt-4 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors">
                LISTEN NOW &rarr;
            </a>
        </div>
    </div>
</section>

<!-- 2. SOFTWARE -->
<section class="py-20 border-t border-yellow-900/30 bg-black/40">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center px-4">
        <div class="space-y-6">
            <h2 class="text-4xl text-gold">SOFTWARE</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase">Digital Interventions</h3>
            <p class="text-gray-300 leading-loose text-lg">
                Interactive simulations and tactical applications. Experience <strong>Color Contagion</strong>, our browser-based simulation engine, and explore the digital tools we use to propagate the signal.
            </p>
            <p class="text-gray-400">
                <em>"Code is the language of the new reality."</em>
            </p>
            <a href="/projects" class="inline-block mt-4 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors">
                RUN SIMULATIONS &rarr;
            </a>
        </div>
        <div>
            <div class="relative w-full aspect-video bg-gray-900 rounded-lg border border-[#D4AF37]/50 overflow-hidden flex items-center justify-center group">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')] opacity-20"></div>
                <i class="fas fa-laptop-code text-6xl text-[#20B2AA] group-hover:text-[#D4AF37] transition-colors duration-700"></i>
            </div>
        </div>
    </div>
</section>

<!-- 3. MERCH -->
<section class="py-20 border-t border-yellow-900/30">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center px-4">
        <div class="order-2 md:order-1">
            <div class="relative w-full aspect-video bg-gray-900 rounded-lg border border-[#D4AF37]/50 overflow-hidden flex items-center justify-center group">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"></div>
                <i class="fas fa-tshirt text-6xl text-[#D4AF37] group-hover:rotate-12 transition-transform duration-500"></i>
            </div>
        </div>
        <div class="order-1 md:order-2 space-y-6">
            <h2 class="text-4xl text-gold">MERCH</h2>
            <h3 class="text-xl text-[#20B2AA] tracking-widest uppercase">Physical Assets</h3>
            <p class="text-gray-300 leading-loose text-lg">
                Tangible artifacts for the devoted. Obtain the uniform, acquire physical media, and support the machine. In a transactional reality, we offer goods of the highest quality for your compliance.
            </p>
            <div class="grid grid-cols-2 gap-4">
                <div class="glass-card p-4 rounded text-center border border-gray-700">
                    <i class="fas fa-layer-group text-2xl mb-2 text-[#20B2AA]"></i>
                    <h4 class="font-bold text-gray-200">Uniforms</h4>
                </div>
                <div class="glass-card p-4 rounded text-center border border-gray-700">
                    <i class="fas fa-compact-disc text-2xl mb-2 text-[#20B2AA]"></i>
                    <h4 class="font-bold text-gray-200">Vinyl</h4>
                </div>
            </div>
            <a href="/merch" class="inline-block mt-4 text-[#D4AF37] border-b border-[#D4AF37] pb-1 hover:text-white transition-colors">
                ENTER SHOP &rarr;
            </a>
        </div>
    </div>
</section>

<script>
    // --- COSMIC VOID PARTICLE SYSTEM (ENHANCED) ---
    (function() {
        const canvas = document.getElementById('cosmic-canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        let stars = [];
        let planets = [];
        let shootingStar = null;
        
        // Mouse tracking
        let mouse = { x: -9999, y: -9999 };

        window.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        });

        window.addEventListener('resize', resize);

        function resize() {
            if(canvas.parentElement) {
                width = canvas.width = canvas.parentElement.offsetWidth;
                height = canvas.height = canvas.parentElement.offsetHeight;
                initStars(); // Re-initialize stars on resize to fill new space
            }
        }

        // --- CLASSES ---

        class Star {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 1.5 + 0.2; // Ranging from very tiny to visible
                this.baseAlpha = Math.random() * 0.7 + 0.2; // Generally brighter
                this.currentAlpha = this.baseAlpha;
                
                // Twinkle properties - More variety in speed
                this.twinkleSpeed = Math.random() * 1.5 + 0.5; 
                this.twinkleOffset = Math.random() * Math.PI * 2;
                
                // Track interaction state
                this.isHovered = false;
                this.hoverColor = null;

                // RICHER COLOR PALETTE
                const rand = Math.random();
                if (rand > 0.90) this.color = '#D4AF37';       // Gold
                else if (rand > 0.80) this.color = '#F4C430';  // Light Gold
                else if (rand > 0.75) this.color = '#20B2AA';  // Eye Teal
                else if (rand > 0.70) this.color = '#E0F7FA';  // Cyan-ish White
                else if (rand > 0.65) this.color = '#FFEBEE';  // Rose White
                else this.color = '#FFFFFF';                   // Pure White
            }

            update(time) {
                // Distance to mouse
                const dx = this.x - mouse.x;
                const dy = this.y - mouse.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                
                // MODIFICATION: Reduced range (About 1/3rd of previous 250)
                const interactionRange = 85; 

                let speed = this.twinkleSpeed;
                let alphaBoost = 0;

                // MOUSE INTERACTION: Active Twinkle
                if (dist < interactionRange) {
                    this.isHovered = true;
                    const intensity = 1 - (dist / interactionRange);
                    
                    // Stars near mouse twinkle furiously
                    speed += intensity * 20; // Dramatic speed increase
                    
                    // Stars near mouse get significantly larger/brighter
                    alphaBoost = intensity * 0.8;

                    // MODIFICATION: Random Color Shift
                    if (!this.hoverColor) {
                        const shiftRand = Math.random();
                        if (shiftRand > 0.66) this.hoverColor = '#4D94FF';      // Electric Blue
                        else if (shiftRand > 0.33) this.hoverColor = '#FF4D4D'; // Neon Red
                        else this.hoverColor = '#FFFF00';                       // Bright Yellow
                    }
                } else {
                    this.isHovered = false;
                    this.hoverColor = null;
                }

                // Calculate Twinkle
                let oscillation = Math.sin(time * speed + this.twinkleOffset);
                
                // Apply twinkling to alpha
                this.currentAlpha = this.baseAlpha + (oscillation * 0.15) + alphaBoost;

                // Clamp Alpha
                if (this.currentAlpha < 0) this.currentAlpha = 0;
                if (this.currentAlpha > 1) this.currentAlpha = 1;
            }

            draw() {
                const activeColor = (this.isHovered && this.hoverColor) ? this.hoverColor : this.color;
                
                ctx.globalAlpha = this.currentAlpha;
                ctx.fillStyle = activeColor;
                
                // Draw Star Body
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();

                // MODIFICATION: Light Rays (Diffraction Spikes)
                if (this.isHovered) {
                    ctx.strokeStyle = activeColor;
                    ctx.lineWidth = 0.5; // Very thin rays
                    
                    // Ray length proportional to brightness/size
                    const rayLength = this.size * 8 + (this.currentAlpha * 5); 

                    ctx.beginPath();
                    // Horizontal Ray
                    ctx.moveTo(this.x - rayLength, this.y);
                    ctx.lineTo(this.x + rayLength, this.y);
                    // Vertical Ray
                    ctx.moveTo(this.x, this.y - rayLength);
                    ctx.lineTo(this.x, this.y + rayLength);
                    ctx.stroke();

                    // Optional center glow
                    ctx.shadowBlur = 8;
                    ctx.shadowColor = activeColor;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }

                ctx.globalAlpha = 1.0;
            }
        }

        class Planet {
            constructor() {
                this.radius = Math.random() * 40 + 10; 
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                // Very subtle dark bodies blocking stars or slightly lighter than void
                this.color = Math.random() > 0.5 ? '#0c0c0c' : '#080808'; 
                this.speedX = (Math.random() - 0.5) * 0.05; 
                this.speedY = (Math.random() - 0.5) * 0.05;
                
                // Rim light color
                this.rimColor = Math.random() > 0.5 ? 'rgba(212, 175, 55, 0.05)' : 'rgba(32, 178, 170, 0.05)';
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                // Wrap around screen
                if (this.x > width + this.radius) this.x = -this.radius;
                if (this.x < -this.radius) this.x = width + this.radius;
                if (this.y > height + this.radius) this.y = -this.radius;
                if (this.y < -this.radius) this.y = height + this.radius;
            }

            draw() {
                // Draw Planet Body (Silhouette)
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();

                // Draw Rim Light (Very Subtle)
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.strokeStyle = this.rimColor;
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }

        class ShootingStar {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height * 0.5;
                this.len = Math.random() * 100 + 50; // Longer tails
                this.speed = Math.random() * 15 + 10; // Faster
                this.size = Math.random() * 1.5 + 0.5;
                this.angle = Math.PI / 4 + (Math.random() * 0.2); 
                
                this.waitTime = new Date().getTime() + Math.random() * 3000 + 1000;
                this.active = false;
                
                // Color variation for shooting star head
                this.headColor = Math.random() > 0.5 ? '#FFFFFF' : '#D4AF37';
            }

            update() {
                if (this.active) {
                    this.x += this.speed * Math.cos(this.angle);
                    this.y += this.speed * Math.sin(this.angle);
                    
                    if (this.x > width + this.len || this.y > height + this.len) {
                        this.active = false;
                        this.waitTime = new Date().getTime() + Math.random() * 5000;
                    }
                } else {
                    if (new Date().getTime() > this.waitTime) {
                        this.active = true;
                        this.x = Math.random() * width * 0.8; 
                        this.y = -50; 
                    }
                }
            }

            draw() {
                if (!this.active) return;

                const tailX = this.x - this.len * Math.cos(this.angle);
                const tailY = this.y - this.len * Math.sin(this.angle);

                const gradient = ctx.createLinearGradient(this.x, this.y, tailX, tailY);
                gradient.addColorStop(0, "rgba(255, 255, 255, 1)");
                gradient.addColorStop(0.1, this.headColor === '#D4AF37' ? "rgba(212, 175, 55, 0.8)" : "rgba(200, 240, 255, 0.8)");
                gradient.addColorStop(1, "rgba(0, 0, 0, 0)");

                ctx.lineWidth = this.size;
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(tailX, tailY);
                ctx.strokeStyle = gradient;
                ctx.lineCap = 'round';
                ctx.stroke();
            }
        }

        // --- INITIALIZATION ---

        function initStars() {
            stars = [];
            // DENSE STAR FIELD
            const starCount = Math.floor((width * height) / 800); // High density
            for (let i = 0; i < starCount; i++) {
                stars.push(new Star());
            }
        }

        function init() {
            resize();
            
            // Create Planets
            planets = [];
            for(let i=0; i<4; i++) planets.push(new Planet());

            // Create Shooting Star Controller
            shootingStar = new ShootingStar();

            animate();
        }

        function animate() {
            const time = Date.now() * 0.001;
            
            ctx.clearRect(0, 0, width, height);
            
            // 1. Draw Planets (Behind stars)
            planets.forEach(p => {
                p.update();
                p.draw();
            });

            // 2. Draw Stars
            stars.forEach(star => {
                star.update(time);
                star.draw();
            });

            // 3. Draw Shooting Star (Top layer)
            if (shootingStar) {
                shootingStar.update();
                shootingStar.draw();
            }
            
            requestAnimationFrame(animate);
        }

        window.addEventListener('load', init);
        setTimeout(init, 100);
    })();
</script>

<%- include('partials/footer') %>